schema: '2.0'
stages:
  prepare_ukdale:
    cmd: mkdir -p data/raw/ukdale data/processed/ukdale_30min data/derived && 
      echo "Preparing UK-DALE dataset..." && echo "ukdale_prepared" > 
      data/derived/ukdale_ready.txt
    deps:
    - path: data/raw/ukdale
      hash: md5
      md5: 1159ee37ce5afc67c486ec1e4e378f27.dir
      size: 11796580238
      nfiles: 4
    outs:
    - path: data/derived/ukdale_ready.txt
      hash: md5
      md5: ac4e3364dc78f20c932332569f5acded
      size: 16
    - path: data/processed/ukdale_30min
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  prepare_lcl:
    cmd: mkdir -p data/raw/lcl data/processed/lcl_clean data/derived && echo 
      "Preparing London Smart Meters (LCL) dataset..." && echo "lcl_prepared" > 
      data/derived/lcl_ready.txt
    deps:
    - path: data/raw/lcl
      hash: md5
      md5: e9af3d9ba558b4c348ca0da417987ae1.dir
      size: 9344493197
      nfiles: 4
    outs:
    - path: data/derived/lcl_ready.txt
      hash: md5
      md5: 3f6cd903b9d8d195bf78752bf5959111
      size: 13
    - path: data/processed/lcl_clean
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  prepare_ssen:
    cmd: mkdir -p data/raw/ssen data/processed/ssen_feeders data/derived && echo
      "Preparing SSEN LV feeder data for validation..." && echo "ssen_prepared" 
      > data/derived/ssen_ready.txt
    deps:
    - path: data/raw/ssen
      hash: md5
      md5: 3c34d0ce8ebdee189cdb975f8efb583f.dir
      size: 36675232
      nfiles: 3
    outs:
    - path: data/derived/ssen_ready.txt
      hash: md5
      md5: 05ef2ac0024e2348c80381c338a5de94
      size: 14
    - path: data/processed/ssen_feeders
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  feature_engineering:
    cmd: mkdir -p data/processed/features data/derived && echo "Engineering 
      features from processed datasets..." && echo "features_engineered" > 
      data/derived/features_ready.txt
    deps:
    - path: data/derived/lcl_ready.txt
      hash: md5
      md5: 3f6cd903b9d8d195bf78752bf5959111
      size: 13
    - path: data/derived/ukdale_ready.txt
      hash: md5
      md5: ac4e3364dc78f20c932332569f5acded
      size: 16
    - path: data/processed/lcl_clean
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: data/processed/ukdale_30min
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    outs:
    - path: data/derived/features_ready.txt
      hash: md5
      md5: 8cda33a293f2e35d6ed1e061d51d8c1a
      size: 20
    - path: data/processed/features
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  train_baselines:
    cmd: mkdir -p data/derived/models/baselines data/derived && echo "Training 
      baseline forecasting models..." && echo "baselines_trained" > 
      data/derived/baselines_ready.txt
    deps:
    - path: data/derived/features_ready.txt
      hash: md5
      md5: 8cda33a293f2e35d6ed1e061d51d8c1a
      size: 20
    - path: data/processed/features
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    outs:
    - path: data/derived/baselines_ready.txt
      hash: md5
      md5: bf07180e835d54013357aa7b77531a5a
      size: 18
    - path: data/derived/models/baselines
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  train_custom:
    cmd: mkdir -p data/derived/models/custom data/derived && echo "Training 
      custom neural architectures..." && echo "custom_trained" > 
      data/derived/custom_ready.txt
    deps:
    - path: data/derived/features_ready.txt
      hash: md5
      md5: 8cda33a293f2e35d6ed1e061d51d8c1a
      size: 20
    - path: data/processed/features
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    outs:
    - path: data/derived/custom_ready.txt
      hash: md5
      md5: 086b89a59b14a7ed8a472e6df9fadd99
      size: 15
    - path: data/derived/models/custom
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  train_selfplay:
    cmd: mkdir -p data/derived/models/selfplay data/derived && echo "Training 
      self-play propose→solve→verify system..." && echo "selfplay_trained" > 
      data/derived/selfplay_ready.txt
    deps:
    - path: data/derived/features_ready.txt
      hash: md5
      md5: 8cda33a293f2e35d6ed1e061d51d8c1a
      size: 20
    - path: data/processed/features
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    outs:
    - path: data/derived/models/selfplay
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: data/derived/selfplay_ready.txt
      hash: md5
      md5: 75752cdea74871cef601c397bc321d12
      size: 17
  evaluate_models:
    cmd: mkdir -p data/derived/evaluation data/derived/reports data/derived && 
      echo "Evaluating all models and generating reports..." && touch 
      data/derived/evaluation/forecast_accuracy.png && touch 
      data/derived/evaluation/feeder_validation.png && echo 
      "evaluation_complete" > data/derived/evaluation_ready.txt
    deps:
    - path: data/derived/baselines_ready.txt
      hash: md5
      md5: bf07180e835d54013357aa7b77531a5a
      size: 18
    - path: data/derived/custom_ready.txt
      hash: md5
      md5: 086b89a59b14a7ed8a472e6df9fadd99
      size: 15
    - path: data/derived/models/baselines
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: data/derived/models/custom
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: data/derived/models/selfplay
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: data/derived/selfplay_ready.txt
      hash: md5
      md5: 75752cdea74871cef601c397bc321d12
      size: 17
    - path: data/derived/ssen_ready.txt
      hash: md5
      md5: 05ef2ac0024e2348c80381c338a5de94
      size: 14
    - path: data/processed/ssen_feeders
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    outs:
    - path: data/derived/evaluation
      hash: md5
      md5: 81a69ccb12fa0c41ed0ae70e98375324.dir
      size: 0
      nfiles: 2
    - path: data/derived/evaluation_ready.txt
      hash: md5
      md5: abc0501148ed33f1d52632a554bfc335
      size: 20
    - path: data/derived/reports
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
